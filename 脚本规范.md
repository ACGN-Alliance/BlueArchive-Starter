# 自动化脚本编写方法
脚本位于adb/script.py当中,内嵌入程序使用(后续考虑开放外置脚本导入), 具体写法也可以参照这个文件的内容

## 注意事项

- 脚本应是类型为 dict 的变量
- 请严格遵守编写规范,因不规范造成的报错概不负责
- 本仓库 release 仅提供用于 Blue-Archive™ 国际服初始号刷取的脚本构建, 且不负责维护其他自定义脚本

## 编写规则
### 构成
脚本实质是一个 K-V 类型的字典, 其中 K 为步骤序号, V 即脚本内容
> Warning: 请按照顺序排列脚本, 乱序排列造成的问题概不负责

### 内容
脚本內容由name(名称), action(操作)以及其余参数构成

#### name
顾名思义, 就是脚本名称, 为了方便区分并没有实质内容

#### action
目前脚本解析支持的操作有 adb, ocr, exit, stop, click

### 脚本操作与使用
#### 共用参数
##### extra
额外传入参数, 类型为元组列表, 每个元组的参数分别为 名, 参数...
下面列举了一些可用的`名`
- return: 判断脚本的返回是否为某个值, 如`("return", "OK")`
- args: 将某个值存储于变量当中, 如`("args", "state", 0)`
- stay: 一直循环直到返回某个值, 如`("stay", "0")`

#### 操作: adb
`adb`操作用于向设备发送adb命令
##### 参数

- args: 在`adb`命令后追加的参数, 类型为 list

#### 操作: ocr
`ocr`操作用于判断对应位置是否为某个图像
##### 参数

- pos_and_size: 四参数列表, 分别为 `x`, `y`, `xsize`, `ysize`
- similar_image: 需要对比的图片路径

#### 操作: exit
退出脚本

#### 操作: stop
停止脚本

##### 参数

- delay: 延时(单位:s)

#### 操作: click
点击屏幕位置
##### 参数

- pos: 位置, 格式 x, y, 如`(100, 200)`